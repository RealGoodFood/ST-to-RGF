DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/chaitanya/workarea/ST-to-RGF/config/environment.rb:10)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.2ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.2ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.2ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TIME ZONE
  [1m[36mPK and serial sequence (4.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"listing_followers"'::regclass
[0m
  [1m[35mPK and custom sequence (2.0ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"listing_followers"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
DEPRECATION WARNING: RAILS_ROOT is deprecated. Please use ::Rails.root.to_s. (called from <class:Person> at /home/chaitanya/workarea/ST-to-RGF/app/models/person.rb:134)
  [1m[36mSQL (4.0ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'listings'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (3.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"listings"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (6.2ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"communities_listings"'::regclass
[0m
  [1m[35mPK and custom sequence (2.7ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"communities_listings"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mPK and serial sequence (2.2ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"listing_followers"'::regclass
[0m
  [1m[35mPK and custom sequence (1.4ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"listing_followers"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
Creating scope :open. Overwriting existing method Listing.open.
Creating scope :public. Overwriting existing method Listing.public.
Creating scope :private. Overwriting existing method Listing.private.
  [1m[36mSQL (2.8ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (2.0ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"notifications"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (6.1ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"communities_listings"'::regclass
[0m
  [1m[35mPK and custom sequence (3.9ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"communities_listings"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (1.9ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (1.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (2.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/chaitanya/workarea/ST-to-RGF/config/environment.rb:10)
  [1m[36mSQL (42.9ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.7ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.6ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.6ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (1.1ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.6ms)[0m  SHOW TIME ZONE
  [1m[36mPK and serial sequence (461.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"listing_followers"'::regclass
[0m
  [1m[35mPK and custom sequence (157.8ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"listing_followers"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
DEPRECATION WARNING: RAILS_ROOT is deprecated. Please use ::Rails.root.to_s. (called from <class:Person> at /home/chaitanya/workarea/ST-to-RGF/app/models/person.rb:134)
  [1m[36mSQL (169.8ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'listings'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (11.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"listings"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (6.7ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"communities_listings"'::regclass
[0m
  [1m[35mPK and custom sequence (1.8ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"communities_listings"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mPK and serial sequence (2.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"listing_followers"'::regclass
[0m
  [1m[35mPK and custom sequence (2.1ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"listing_followers"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
Creating scope :open. Overwriting existing method Listing.open.
Creating scope :public. Overwriting existing method Listing.public.
Creating scope :private. Overwriting existing method Listing.private.
  [1m[36mSQL (2.7ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (27.5ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"notifications"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (6.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"communities_listings"'::regclass
[0m
  [1m[35mPK and custom sequence (3.9ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"communities_listings"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (2.1ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (2.0ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (14.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (2.2ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"communities"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'communities'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (19.9ms)[0m  [1mSELECT 1 FROM "communities" WHERE ("communities"."domain" = 'annarbor') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"communities"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (18.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"communities"'::regclass
[0m
  [1m[35mSQL (49.5ms)[0m  INSERT INTO "communities" ("name", "domain", "created_at", "updated_at", "settings", "consent", "email_admins_about_new_members", "use_fb_like", "real_name_required", "feedback_to_admin", "automatic_newsletters", "join_with_invite_only", "use_captcha", "email_confirmation", "allowed_emails", "users_can_invite_new_users", "select_whether_name_is_shown_to_everybody", "private", "label", "show_date_in_listings_list", "news_enabled", "all_users_can_add_news", "custom_frontpage_sidebar", "event_feed_enabled", "members_count", "slogan", "description", "category", "polls_enabled", "plan", "user_limit", "monthly_price_in_euros") VALUES ('Ann Arbor', 'annarbor', '2013-03-02 13:05:46.309360', '2013-03-02 13:05:46.309360', NULL, 'SHARETRIBE1.0', 'f', 'f', 't', 'f', 't', 'f', 'f', 't', NULL, 'f', 'f', 'f', NULL, 'f', 't', 't', 'f', 't', 1, 'Swap, Share', 'RealGoodFood is a place to swap recipes.', 'town', 'f', 'premium', NULL, NULL) RETURNING "id"
  [1m[36mSQL (6.6ms)[0m  [1mCOMMIT[0m
WARNING: Can't mass-assign protected attributes: id
  [1m[35mSQL (0.6ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "communities" WHERE ("communities"."domain" = 'durham') LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "communities" ("name", "domain", "created_at", "updated_at", "settings", "consent", "email_admins_about_new_members", "use_fb_like", "real_name_required", "feedback_to_admin", "automatic_newsletters", "join_with_invite_only", "use_captcha", "email_confirmation", "allowed_emails", "users_can_invite_new_users", "select_whether_name_is_shown_to_everybody", "private", "label", "show_date_in_listings_list", "news_enabled", "all_users_can_add_news", "custom_frontpage_sidebar", "event_feed_enabled", "members_count", "slogan", "description", "category", "polls_enabled", "plan", "user_limit", "monthly_price_in_euros") VALUES ('Durham city', 'durham', '2013-03-02 13:05:46.453718', '2013-03-02 13:05:46.453718', NULL, 'SHARETRIBE1.0', 'f', 'f', 't', 'f', 't', 'f', 'f', 't', NULL, 'f', 'f', 'f', NULL, 'f', 't', 't', 'f', 't', 1, 'Swap, Share', 'RealGoodFood is a place to swap recipes.', 'town', 'f', 'premium', NULL, NULL) RETURNING "id"
  [1m[36mSQL (9.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (11.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"people"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
WARNING: Can't mass-assign protected attributes: id, locale, active_days_count, test_group_number, show_real_name_to_other_users, confirmed_at, confirmation_sent_at, hobby_status
  [1m[36mSQL (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'people'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (2.5ms)[0m  [1mSELECT 1 FROM "people" WHERE ("people"."email" = 'devin@realgoodfood.org') LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  SELECT 1 FROM "people" WHERE ("people"."username" = 'devin') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mSELECT 1 FROM "people" WHERE ("people"."email" = 'devin@realgoodfood.org') LIMIT 1[0m
  [1m[35mSQL (2.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"people"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPerson Load (2.1ms)[0m  [1mSELECT "people".* FROM "people" WHERE "people"."confirmation_token" = 'Awozap2i88zDRsio2qYq' LIMIT 1[0m
  [1m[35mPK and serial sequence (6.1ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"people"'::regclass
  [1m[36mPK and custom sequence (3.6ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"people"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mPK and serial sequence (5.9ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"people"'::regclass
  [1m[36mPK and custom sequence (3.6ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"people"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mAREL (3.3ms)[0m  INSERT INTO "people" ("created_at", "updated_at", "is_admin", "locale", "preferences", "active_days_count", "last_page_load_date", "test_group_number", "active", "show_real_name_to_other_users", "given_name", "family_name", "phone_number", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "username", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "password_salt", "confirmation_token", "confirmed_at", "confirmation_sent_at", "facebook_id", "authentication_token", "hobby_status", "id") VALUES ('2013-03-02 13:05:58.151365', '2013-03-02 13:05:58.151365', 1, 'en', NULL, 0, NULL, 1, 't', 't', 'Devin', 'Mcintire', NULL, NULL, NULL, NULL, NULL, NULL, 'devin', 'devin@realgoodfood.org', '$2a$10$TsA5XuJJGK2027zw0x3pX.YNVrQ60bton5rp1RazyqfDBBQfQXy3C', NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, NULL, 'Awozap2i88zDRsio2qYq', NULL, '2013-03-02 13:05:58.151037', NULL, NULL, 'Existing', 'dLZa02GZKr4Oaa3a6HdQnY')
  [1m[36mPK and serial sequence (5.9ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"people"'::regclass
[0m
  [1m[35mPK and custom sequence (3.6ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"people"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
Rendered devise/mailer/confirmation_instructions.haml (3.9ms)

Sent mail to devin@realgoodfood.org (5486ms)
Date: Sat, 02 Mar 2013 18:36:13 +0530
From: no-reply@realgoodfood.org
Reply-To: no-reply@realgoodfood.org
To: devin@realgoodfood.org
Message-ID: <5131f945c74a6_c9940a080855813@chaitanya-laptop.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!-- /bHjC6UljSr4Oaa3a6HdQnY/people/confirmation?confirmation_token=rG1svxqCsB1wiJy5XQCC -->
<!-- /-if @confirmation_token -->
<!-- /  yes confirmation token -->
<!-- /  //- link = confirmation_url(:confirmation_token => @confirmation_token, :host => @host) -->
<!-- /- else -->
<!-- /  - if $host -->
<!-- /    have $host -->
<!-- /    //- link = confirmation_url(@resource, :confirmation_token => @resource.confirmation_token, :host => $host) -->
<!-- /  - else -->
<!-- /- link = confirmation_url(@resource, :confirmation_token => @resource.confirmation_token) -->
<p>
  Hi Devin,
</p>
<p>
  You need to confirm your email address by clicking the following link:
  <a href="http://foodswap.herokuapp.com/dLZa02GZKr4Oaa3a6HdQnY/people/confirmation?confirmation_token=Awozap2i88zDRsio2qYq">Confirm my account</a>
</p>
<p>
  Thanks,
  <br>
  The RealGoodFood Team
</p>
[paperclip] Saving attachments.
  [1m[36mSQL (591.9ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (2.5ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"community_memberships"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
WARNING: Can't mass-assign protected attributes: id, admin
  [1m[36mSQL (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"community_memberships"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mCommunityMembership Load (1.8ms)[0m  [1mSELECT "community_memberships".* FROM "community_memberships" WHERE "community_memberships"."person_id" = 'bCGGjElvur4Oaa3a6HdQnY' AND "community_memberships"."community_id" = 1 LIMIT 1[0m
  [1m[35mPK and serial sequence (6.3ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"community_memberships"'::regclass
  [1m[36mSQL (14.8ms)[0m  [1mINSERT INTO "community_memberships" ("person_id", "community_id", "admin", "created_at", "updated_at", "consent", "invitation_id", "last_page_load_date") VALUES ('bCGGjElvur4Oaa3a6HdQnY', 1, 'f', '2013-03-02 13:06:19.866204', '2013-03-02 13:06:19.866204', 'SHARETRIBE1.0', NULL, '2013-03-02 13:06:19.000000') RETURNING "id"[0m
  [1m[35mCommunity Load (1.8ms)[0m  SELECT "communities".* FROM "communities" WHERE "communities"."id" = 1 LIMIT 1
  [1m[36mAREL (1.2ms)[0m  [1mUPDATE "communities" SET "members_count" = COALESCE("members_count", 0) + 1 WHERE "communities"."id" = 1[0m
  [1m[35mSQL (11.3ms)[0m  COMMIT
WARNING: Can't mass-assign protected attributes: id, admin
  [1m[36mSQL (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCommunityMembership Load (1.1ms)[0m  SELECT "community_memberships".* FROM "community_memberships" WHERE "community_memberships"."person_id" = 'bCGGjElvur4Oaa3a6HdQnY' AND "community_memberships"."community_id" = 2 LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "community_memberships" ("person_id", "community_id", "admin", "created_at", "updated_at", "consent", "invitation_id", "last_page_load_date") VALUES ('bCGGjElvur4Oaa3a6HdQnY', 2, 'f', '2013-03-02 13:06:19.914409', '2013-03-02 13:06:19.914409', 'SHARETRIBE1.0', NULL, '2013-03-02 13:06:19.000000') RETURNING "id"[0m
  [1m[35mCommunity Load (1.4ms)[0m  SELECT "communities".* FROM "communities" WHERE "communities"."id" = 2 LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mUPDATE "communities" SET "members_count" = COALESCE("members_count", 0) + 1 WHERE "communities"."id" = 2[0m
  [1m[35mSQL (9.2ms)[0m  COMMIT
  [1m[36mSQL (22.6ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"locations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
WARNING: Can't mass-assign protected attributes: id
  [1m[35mSQL (0.5ms)[0m  BEGIN
  [1m[36mSQL (1.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"locations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (5.9ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"locations"'::regclass
  [1m[36mSQL (19.4ms)[0m  [1mINSERT INTO "locations" ("latitude", "longitude", "address", "google_address", "city", "created_at", "updated_at", "listing_id", "person_id", "location_type", "community_id") VALUES (42.2804, -83.744, 'Ann Arbor, MI 48104, USA', '199 S Division St, Ann Arbor, MI 48104, USA', 'Ann Arbor', '2013-03-02 13:06:19.973846', '2013-03-02 13:06:19.973846', NULL, NULL, 'community', 1) RETURNING "id"[0m
  [1m[35mSQL (6.2ms)[0m  COMMIT
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "locations" ("latitude", "longitude", "address", "google_address", "city", "created_at", "updated_at", "listing_id", "person_id", "location_type", "community_id") VALUES (35.9981, -78.892, 'Durham, NC 27701, USA', 'Durham, NC 27701, USA', 'Durham', '2013-03-02 13:06:20.010171', '2013-03-02 13:06:20.010171', NULL, NULL, 'community', 2) RETURNING "id"
  [1m[36mSQL (8.8ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/chaitanya/workarea/ST-to-RGF/config/environment.rb:10)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.2ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.2ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.2ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TIME ZONE
  [1m[36mPK and serial sequence (4.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"listing_followers"'::regclass
[0m
  [1m[35mPK and custom sequence (1.9ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"listing_followers"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
DEPRECATION WARNING: RAILS_ROOT is deprecated. Please use ::Rails.root.to_s. (called from <class:Person> at /home/chaitanya/workarea/ST-to-RGF/app/models/person.rb:134)
  [1m[36mSQL (4.1ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'listings'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (3.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"listings"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (5.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"communities_listings"'::regclass
[0m
  [1m[35mPK and custom sequence (1.4ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"communities_listings"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mPK and serial sequence (2.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"listing_followers"'::regclass
[0m
  [1m[35mPK and custom sequence (1.5ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"listing_followers"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
Creating scope :open. Overwriting existing method Listing.open.
Creating scope :public. Overwriting existing method Listing.public.
Creating scope :private. Overwriting existing method Listing.private.
  [1m[36mSQL (2.8ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (2.0ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"notifications"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (6.2ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"communities_listings"'::regclass
[0m
  [1m[35mPK and custom sequence (3.9ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"communities_listings"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.2ms)[0m  [1mSET search_path TO public[0m
  [1m[35mSQL (0.6ms)[0m  SHOW client_min_messages
  [1m[36mSQL (0.4ms)[0m  [1mSET client_min_messages TO 'panic'[0m
  [1m[35mSQL (0.5ms)[0m  SET standard_conforming_strings = on
  [1m[36mSQL (0.4ms)[0m  [1mSET client_min_messages TO 'notice'[0m
  [1m[35mSQL (0.6ms)[0m  SET time zone 'UTC'
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TIME ZONE[0m
  [1m[35mSQL (456.2ms)[0m  DROP DATABASE IF EXISTS "rgf_development"
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/chaitanya/workarea/ST-to-RGF/config/environment.rb:10)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.4ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.4ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.4ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.6ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TIME ZONE
  [1m[36mPK and serial sequence (27.7ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"listing_followers"'::regclass
[0m
PG::Error: ERROR:  relation "listing_followers" does not exist
LINE 14:             AND dep.refobjid      = '"listing_followers"'::r...
                                             ^
:           SELECT attr.attname, seq.relname
          FROM pg_class      seq,
               pg_attribute  attr,
               pg_depend     dep,
               pg_namespace  name,
               pg_constraint cons
          WHERE seq.oid           = dep.objid
            AND seq.relkind       = 'S'
            AND attr.attrelid     = dep.refobjid
            AND attr.attnum       = dep.refobjsubid
            AND attr.attrelid     = cons.conrelid
            AND attr.attnum       = cons.conkey[1]
            AND cons.contype      = 'p'
            AND dep.refobjid      = '"listing_followers"'::regclass
DEPRECATION WARNING: RAILS_ROOT is deprecated. Please use ::Rails.root.to_s. (called from <class:Person> at /home/chaitanya/workarea/ST-to-RGF/app/models/person.rb:134)
  [1m[35mSQL (5.9ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'listings'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mPK and serial sequence (1.6ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"communities_listings"'::regclass
[0m
PG::Error: ERROR:  relation "communities_listings" does not exist
LINE 14:             AND dep.refobjid      = '"communities_listings"'...
                                             ^
:           SELECT attr.attname, seq.relname
          FROM pg_class      seq,
               pg_attribute  attr,
               pg_depend     dep,
               pg_namespace  name,
               pg_constraint cons
          WHERE seq.oid           = dep.objid
            AND seq.relkind       = 'S'
            AND attr.attrelid     = dep.refobjid
            AND attr.attnum       = dep.refobjsubid
            AND attr.attrelid     = cons.conrelid
            AND attr.attnum       = cons.conkey[1]
            AND cons.contype      = 'p'
            AND dep.refobjid      = '"communities_listings"'::regclass
  [1m[35mPK and serial sequence (1.2ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"listing_followers"'::regclass
PG::Error: ERROR:  relation "listing_followers" does not exist
LINE 14:             AND dep.refobjid      = '"listing_followers"'::r...
                                             ^
:           SELECT attr.attname, seq.relname
          FROM pg_class      seq,
               pg_attribute  attr,
               pg_depend     dep,
               pg_namespace  name,
               pg_constraint cons
          WHERE seq.oid           = dep.objid
            AND seq.relkind       = 'S'
            AND attr.attrelid     = dep.refobjid
            AND attr.attnum       = dep.refobjsubid
            AND attr.attrelid     = cons.conrelid
            AND attr.attnum       = cons.conkey[1]
            AND cons.contype      = 'p'
            AND dep.refobjid      = '"listing_followers"'::regclass
Creating scope :open. Overwriting existing method Listing.open.
Creating scope :public. Overwriting existing method Listing.public.
Creating scope :private. Overwriting existing method Listing.private.
  [1m[36mSQL (2.4ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (1.6ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'notifications'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mPK and serial sequence (1.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"communities_listings"'::regclass
[0m
PG::Error: ERROR:  relation "communities_listings" does not exist
LINE 14:             AND dep.refobjid      = '"communities_listings"'...
                                             ^
:           SELECT attr.attname, seq.relname
          FROM pg_class      seq,
               pg_attribute  attr,
               pg_depend     dep,
               pg_namespace  name,
               pg_constraint cons
          WHERE seq.oid           = dep.objid
            AND seq.relkind       = 'S'
            AND attr.attrelid     = dep.refobjid
            AND attr.attnum       = dep.refobjsubid
            AND attr.attrelid     = cons.conrelid
            AND attr.attnum       = cons.conkey[1]
            AND cons.contype      = 'p'
            AND dep.refobjid      = '"communities_listings"'::regclass
  [1m[35mSQL (2.0ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'badges'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (184.7ms)[0m  [1mCREATE TABLE "badges" ("id" serial primary key, "person_id" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (2.0ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'cached_ressi_events'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (106.3ms)[0m  [1mCREATE TABLE "cached_ressi_events" ("id" serial primary key, "user_id" character varying(255), "application_id" character varying(255), "session_id" character varying(255), "ip_address" character varying(255), "action" character varying(255), "parameters" text, "return_value" character varying(255), "headers" text, "semantic_event_id" character varying(255), "created_at" timestamp, "updated_at" timestamp, "test_group_number" integer, "community_id" integer) [0m
  [1m[35mSQL (2.0ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'comments'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (118.4ms)[0m  [1mCREATE TABLE "comments" ("id" serial primary key, "author_id" character varying(255), "listing_id" integer, "content" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (1.0ms)[0m  SHOW search_path
  [1m[36mSQL (10.0ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'comments'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mSQL (64.4ms)[0m  CREATE INDEX "index_comments_on_listing_id" ON "comments" ("listing_id")
  [1m[36mSQL (2.1ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'communities'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (118.8ms)[0m  CREATE TABLE "communities" ("id" serial primary key, "name" character varying(255), "domain" character varying(255), "created_at" timestamp, "updated_at" timestamp, "settings" text, "consent" character varying(255), "email_admins_about_new_members" boolean DEFAULT 'f', "use_fb_like" boolean DEFAULT 'f', "real_name_required" boolean DEFAULT 't', "feedback_to_admin" boolean DEFAULT 'f', "automatic_newsletters" boolean DEFAULT 't', "join_with_invite_only" boolean DEFAULT 'f', "use_captcha" boolean DEFAULT 't', "email_confirmation" boolean DEFAULT 'f', "allowed_emails" text, "users_can_invite_new_users" boolean DEFAULT 'f', "select_whether_name_is_shown_to_everybody" boolean DEFAULT 'f', "private" boolean DEFAULT 'f', "label" character varying(255), "show_date_in_listings_list" boolean DEFAULT 'f', "news_enabled" boolean DEFAULT 't', "all_users_can_add_news" boolean DEFAULT 't', "custom_frontpage_sidebar" boolean DEFAULT 'f', "event_feed_enabled" boolean DEFAULT 't', "members_count" integer DEFAULT 0, "slogan" character varying(255), "description" text, "category" character varying(255) DEFAULT 'other', "polls_enabled" boolean DEFAULT 'f', "plan" character varying(255), "user_limit" integer, "monthly_price_in_euros" float) 
  [1m[36mSQL (2.2ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'communities_listings'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (7.2ms)[0m  CREATE TABLE "communities_listings" ("community_id" integer, "listing_id" integer) 
  [1m[36mSQL (3.2ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'communities_listings'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mSQL (50.9ms)[0m  CREATE INDEX "index_communities_listings" ON "communities_listings" ("listing_id", "community_id")
  [1m[36mSQL (1.9ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'community_memberships'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (95.9ms)[0m  CREATE TABLE "community_memberships" ("id" serial primary key, "person_id" character varying(255), "community_id" integer, "admin" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp, "consent" character varying(255), "invitation_id" integer, "last_page_load_date" timestamp) 
  [1m[36mSQL (2.1ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'contact_requests'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (62.6ms)[0m  CREATE TABLE "contact_requests" ("id" serial primary key, "email" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (1.8ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'conversations'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (108.8ms)[0m  CREATE TABLE "conversations" ("id" serial primary key, "title" character varying(255), "listing_id" integer, "created_at" timestamp, "updated_at" timestamp, "status" character varying(255) DEFAULT 'pending') 
  [1m[36mSQL (2.0ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'delayed_jobs'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (106.9ms)[0m  CREATE TABLE "delayed_jobs" ("id" serial primary key, "priority" integer DEFAULT 0, "attempts" integer DEFAULT 0, "handler" text, "last_error" text, "run_at" timestamp, "locked_at" timestamp, "failed_at" timestamp, "locked_by" character varying(255), "created_at" timestamp, "updated_at" timestamp, "queue" character varying(255)) 
  [1m[36mSQL (2.2ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'delayed_jobs'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mSQL (52.1ms)[0m  CREATE INDEX "delayed_jobs_priority" ON "delayed_jobs" ("priority", "run_at")
  [1m[36mSQL (1.2ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'devices'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (119.0ms)[0m  CREATE TABLE "devices" ("id" serial primary key, "person_id" character varying(255), "device_type" character varying(255), "device_token" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (2.0ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'emails'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (107.1ms)[0m  CREATE TABLE "emails" ("id" serial primary key, "person_id" character varying(255), "address" character varying(255), "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "confirmation_token" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (3.1ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'emails'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mSQL (51.4ms)[0m  CREATE UNIQUE INDEX "index_emails_on_address" ON "emails" ("address")
  [1m[36mSQL (1.7ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'event_feed_events'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (118.5ms)[0m  CREATE TABLE "event_feed_events" ("id" serial primary key, "person1_id" character varying(255), "person2_id" character varying(255), "community_id" integer, "eventable_id" integer, "eventable_type" character varying(255), "category" character varying(255), "members_only" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (2.8ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'feedbacks'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (105.7ms)[0m  CREATE TABLE "feedbacks" ("id" serial primary key, "content" text, "author_id" character varying(255), "url" character varying(255), "created_at" timestamp, "updated_at" timestamp, "is_handled" integer DEFAULT 0, "email" character varying(255)) 
  [1m[36mSQL (1.5ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'groups'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (63.2ms)[0m  CREATE TABLE "groups" ("id" serial primary key, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (1.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'groups_favors'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (8.7ms)[0m  CREATE TABLE "groups_favors" ("group_id" character varying(255), "favor_id" integer) 
  [1m[36mSQL (2.7ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'groups_items'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (6.7ms)[0m  CREATE TABLE "groups_items" ("group_id" character varying(255), "item_id" integer) 
  [1m[36mSQL (1.8ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'groups_listings'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (8.1ms)[0m  CREATE TABLE "groups_listings" ("group_id" character varying(255), "listing_id" integer) 
  [1m[36mSQL (2.2ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'hobbies'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (61.4ms)[0m  CREATE TABLE "hobbies" ("id" serial primary key, "name" character varying(255), "official" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (2.0ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'invitations'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (117.8ms)[0m  CREATE TABLE "invitations" ("id" serial primary key, "code" character varying(255), "community_id" integer, "usages_left" integer, "valid_until" timestamp, "information" character varying(255), "created_at" timestamp, "updated_at" timestamp, "inviter_id" character varying(255), "message" text, "email" character varying(255), "name" character varying(255)) 
  [1m[36mSQL (1.7ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'item_reservations'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (53.2ms)[0m  CREATE TABLE "item_reservations" ("id" serial primary key, "item_id" integer, "reservation_id" integer, "amount" integer, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (2.0ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'listing_followers'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (8.0ms)[0m  CREATE TABLE "listing_followers" ("person_id" character varying(255), "listing_id" integer) 
  [1m[36mSQL (4.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'listing_images'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (103.6ms)[0m  CREATE TABLE "listing_images" ("id" serial primary key, "listing_id" integer, "created_at" timestamp, "updated_at" timestamp, "image_file_name" character varying(255), "image_content_type" character varying(255), "image_file_size" integer, "image_updated_at" timestamp) 
  [1m[36mSQL (2.9ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'listing_images'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mSQL (52.0ms)[0m  CREATE INDEX "index_listing_images_on_listing_id" ON "listing_images" ("listing_id")
  [1m[36mSQL (2.1ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'listings'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (117.2ms)[0m  CREATE TABLE "listings" ("id" serial primary key, "author_id" character varying(255), "category" character varying(255), "title" character varying(255), "times_viewed" integer DEFAULT 0, "language" character varying(255), "created_at" timestamp, "updated_at" timestamp, "last_modified" timestamp, "visibility" character varying(255) DEFAULT 'everybody', "listing_type" character varying(255), "description" text, "origin" character varying(255), "destination" character varying(255), "valid_from" date, "valid_until" timestamp, "delta" boolean DEFAULT 't' NOT NULL, "open" boolean DEFAULT 't', "share_type" character varying(255), "link_to_information" character varying(255), "number_of_portions" text, "story_behind" text, "ingredient_list" text, "trade_conditions" text) 
  [1m[36mSQL (2.3ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'listings'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mSQL (52.0ms)[0m  CREATE INDEX "index_listings_on_listing_type" ON "listings" ("listing_type")
  [1m[36mSQL (3.7ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'listings'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_listings_on_listing_type on listings (17.2ms)[0m   SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23833
 AND a.attnum IN (11)
  [1m[36mSQL (66.3ms)[0m  [1mCREATE INDEX "index_listings_on_open" ON "listings" ("open")[0m
  [1m[35mSQL (3.0ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'listings'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mColumns for index index_listings_on_listing_type on listings (1.0ms)[0m  [1m SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23833
 AND a.attnum IN (11)
[0m
  [1m[35mColumns for index index_listings_on_open on listings (1.0ms)[0m   SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23833
 AND a.attnum IN (18)
  [1m[36mSQL (60.0ms)[0m  [1mCREATE INDEX "index_listings_on_visibility" ON "listings" ("visibility")[0m
  [1m[35mSQL (2.0ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'locations'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (130.7ms)[0m  [1mCREATE TABLE "locations" ("id" serial primary key, "latitude" float, "longitude" float, "address" character varying(255), "google_address" character varying(255), "city" character varying(255), "created_at" timestamp, "updated_at" timestamp, "listing_id" integer, "person_id" character varying(255), "location_type" character varying(255), "community_id" integer) [0m
  [1m[35mSQL (1.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'messages'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (108.0ms)[0m  [1mCREATE TABLE "messages" ("id" serial primary key, "sender_id" character varying(255), "content" text, "created_at" timestamp, "updated_at" timestamp, "conversation_id" integer) [0m
  [1m[35mSQL (2.0ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'news_items'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (140.4ms)[0m  [1mCREATE TABLE "news_items" ("id" serial primary key, "title" character varying(255), "content" text, "community_id" integer, "author_id" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (2.0ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'notifications'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (95.7ms)[0m  [1mCREATE TABLE "notifications" ("id" serial primary key, "receiver_id" character varying(255), "type" character varying(255), "is_read" boolean DEFAULT 'f', "badge_id" integer, "created_at" timestamp, "updated_at" timestamp, "testimonial_id" integer, "notifiable_id" integer, "notifiable_type" character varying(255), "description" character varying(255)) [0m
  [1m[35mSQL (2.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'participations'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (72.9ms)[0m  [1mCREATE TABLE "participations" ("id" serial primary key, "person_id" character varying(255), "conversation_id" integer, "is_read" boolean DEFAULT 'f', "created_at" timestamp, "updated_at" timestamp, "last_sent_at" timestamp, "last_received_at" timestamp, "feedback_skipped" boolean DEFAULT 'f') [0m
  [1m[35mSQL (1.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'people'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (60.1ms)[0m  [1mCREATE TABLE "people" ("id" character varying(22) NOT NULL, "created_at" timestamp, "updated_at" timestamp, "is_admin" integer DEFAULT 0, "locale" character varying(255) DEFAULT 'en', "preferences" text, "active_days_count" integer DEFAULT 0, "last_page_load_date" timestamp, "test_group_number" integer DEFAULT 1, "active" boolean DEFAULT 't', "show_real_name_to_other_users" boolean DEFAULT 't', "given_name" character varying(255), "family_name" character varying(255), "phone_number" character varying(255), "description" text, "image_file_name" character varying(255), "image_content_type" character varying(255), "image_file_size" integer, "image_updated_at" timestamp, "username" character varying(255), "email" character varying(255), "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying(255), "last_sign_in_ip" character varying(255), "password_salt" character varying(255), "confirmation_token" character varying(255), "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "facebook_id" character varying(255), "authentication_token" character varying(255), "hobby_status" character varying(255) DEFAULT 'Existing') [0m
  [1m[35mSQL (3.2ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'people'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (50.9ms)[0m  [1mCREATE UNIQUE INDEX "index_people_on_confirmation_token" ON "people" ("confirmation_token")[0m
  [1m[35mSQL (1.7ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'people'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mColumns for index index_people_on_confirmation_token on people (0.7ms)[0m  [1m SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23904
 AND a.attnum IN (32)
[0m
  [1m[35mSQL (51.9ms)[0m  CREATE UNIQUE INDEX "index_people_on_email" ON "people" ("email")
  [1m[36mSQL (3.3ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'people'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_people_on_confirmation_token on people (1.0ms)[0m   SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23904
 AND a.attnum IN (32)
  [1m[36mColumns for index index_people_on_email on people (1.0ms)[0m  [1m SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23904
 AND a.attnum IN (21)
[0m
  [1m[35mSQL (48.4ms)[0m  CREATE UNIQUE INDEX "index_people_on_facebook_id" ON "people" ("facebook_id")
  [1m[36mSQL (1.5ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'people'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_people_on_confirmation_token on people (0.6ms)[0m   SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23904
 AND a.attnum IN (32)
  [1m[36mColumns for index index_people_on_email on people (0.6ms)[0m  [1m SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23904
 AND a.attnum IN (21)
[0m
  [1m[35mColumns for index index_people_on_facebook_id on people (0.5ms)[0m   SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23904
 AND a.attnum IN (35)
  [1m[36mSQL (50.6ms)[0m  [1mCREATE UNIQUE INDEX "index_people_on_reset_password_token" ON "people" ("reset_password_token")[0m
  [1m[35mSQL (3.3ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'people'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mColumns for index index_people_on_confirmation_token on people (1.0ms)[0m  [1m SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23904
 AND a.attnum IN (32)
[0m
  [1m[35mColumns for index index_people_on_email on people (0.9ms)[0m   SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23904
 AND a.attnum IN (21)
  [1m[36mColumns for index index_people_on_facebook_id on people (0.9ms)[0m  [1m SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23904
 AND a.attnum IN (35)
[0m
  [1m[35mColumns for index index_people_on_reset_password_token on people (1.0ms)[0m   SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23904
 AND a.attnum IN (23)
  [1m[36mSQL (46.2ms)[0m  [1mCREATE UNIQUE INDEX "index_people_on_username" ON "people" ("username")[0m
  [1m[35mSQL (2.0ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'person_hobbies'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (7.9ms)[0m  [1mCREATE TABLE "person_hobbies" ("person_id" character varying(255), "hobby_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (2.7ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'poll_answers'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (116.4ms)[0m  [1mCREATE TABLE "poll_answers" ("id" serial primary key, "poll_id" integer, "poll_option_id" integer, "answerer_id" character varying(255), "comment" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (2.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'poll_options'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (62.1ms)[0m  [1mCREATE TABLE "poll_options" ("id" serial primary key, "label" character varying(255), "poll_id" integer, "percentage" float DEFAULT 0.0, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (2.0ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'polls'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (118.2ms)[0m  [1mCREATE TABLE "polls" ("id" serial primary key, "title" character varying(255), "author_id" character varying(255), "active" boolean DEFAULT 't', "community_id" integer, "closed_at" timestamp, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (2.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'sessions'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (107.3ms)[0m  [1mCREATE TABLE "sessions" ("id" serial primary key, "session_id" character varying(255) NOT NULL, "data" text, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (3.2ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'sessions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (51.1ms)[0m  [1mCREATE INDEX "index_sessions_on_session_id" ON "sessions" ("session_id")[0m
  [1m[35mSQL (3.1ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'sessions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mColumns for index index_sessions_on_session_id on sessions (1.9ms)[0m  [1m SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23961
 AND a.attnum IN (2)
[0m
  [1m[35mSQL (60.0ms)[0m  CREATE INDEX "index_sessions_on_updated_at" ON "sessions" ("updated_at")
  [1m[36mSQL (2.0ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'share_types'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (63.0ms)[0m  CREATE TABLE "share_types" ("id" serial primary key, "listing_id" integer, "name" character varying(255)) 
  [1m[36mSQL (2.8ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'share_types'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mSQL (62.8ms)[0m  CREATE INDEX "index_share_types_on_listing_id" ON "share_types" ("listing_id")
  [1m[36mSQL (2.0ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'statistics'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (137.6ms)[0m  CREATE TABLE "statistics" ("id" serial primary key, "community_id" integer, "created_at" timestamp, "updated_at" timestamp, "users_count" integer, "two_week_content_activation_percentage" float, "four_week_transaction_activation_percentage" float, "mau_g1" float, "wau_g1" float, "dau_g1" float, "mau_g2" float, "wau_g2" float, "dau_g2" float, "mau_g3" float, "wau_g3" float, "dau_g3" float, "invitations_sent_per_user" float, "invitations_accepted_per_user" float, "revenue_per_mau_g1" float, "extra_data" text, "mau_g1_count" integer, "wau_g1_count" integer, "listings_count" integer, "new_listings_last_week" integer, "new_listings_last_month" integer, "conversations_count" integer, "new_conversations_last_week" integer, "new_conversations_last_month" integer, "messages_count" integer, "new_messages_last_week" integer, "new_messages_last_month" integer, "transactions_count" integer, "new_transactions_last_week" integer, "new_transactions_last_month" integer, "new_users_last_week" integer, "new_users_last_month" integer) 
  [1m[36mSQL (2.2ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'taggings'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (118.1ms)[0m  CREATE TABLE "taggings" ("id" serial primary key, "tag_id" integer, "taggable_id" integer, "taggable_type" character varying(255), "tagger_id" integer, "tagger_type" character varying(255), "context" character varying(255), "created_at" timestamp) 
  [1m[36mSQL (2.8ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'taggings'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mSQL (63.4ms)[0m  CREATE INDEX "index_taggings_on_tag_id" ON "taggings" ("tag_id")
  [1m[36mSQL (3.2ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'taggings'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_taggings_on_tag_id on taggings (1.1ms)[0m   SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 23994
 AND a.attnum IN (2)
  [1m[36mSQL (49.9ms)[0m  [1mCREATE INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings" ("taggable_id", "taggable_type", "context")[0m
  [1m[35mSQL (1.7ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'tags'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (63.2ms)[0m  [1mCREATE TABLE "tags" ("id" serial primary key, "name" character varying(255)) [0m
  [1m[35mSQL (1.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'testimonials'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (107.8ms)[0m  [1mCREATE TABLE "testimonials" ("id" serial primary key, "grade" float, "text" text, "author_id" character varying(255), "participation_id" integer, "created_at" timestamp, "updated_at" timestamp, "receiver_id" character varying(255)) [0m
  [1m[35mSQL (1.7ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'diets'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (52.1ms)[0m  [1mCREATE TABLE "diets" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'diet_listings'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (52.6ms)[0m  [1mCREATE TABLE "diet_listings" ("id" serial primary key, "listing_id" integer, "diet_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (1.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'restrictions'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (74.6ms)[0m  [1mCREATE TABLE "restrictions" ("id" serial primary key, "person_id" character varying(255), "diet_id" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (2.0ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'swap_items'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (107.1ms)[0m  [1mCREATE TABLE "swap_items" ("id" serial primary key, "offerer_id" character varying(255), "receiver_id" character varying(255), "offerer_listing_id" integer, "receiver_listing_id" integer, "acceptance" boolean, "community_id" integer, "receiver_communication_mode" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (2.1ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'restrictions'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (9.2ms)[0m  [1mDROP TABLE "restrictions"[0m
  [1m[35mSQL (53.0ms)[0m  CREATE TABLE "restrictions" ("id" serial primary key, "person_id" character varying(255), "diet_id" integer, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (2.0ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'form_details'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (107.4ms)[0m  CREATE TABLE "form_details" ("id" serial primary key, "signup_form" text, "community_signup_form" text, "listing_form" text, "community_form" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (2.1ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'authentications'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (117.8ms)[0m  CREATE TABLE "authentications" ("id" serial primary key, "community_id" integer, "user_id" character varying(255), "provider" character varying(255), "uid" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (1.9ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (8.2ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36mSQL (4.4ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mSQL (72.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mSQL (1.9ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_info'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (1.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mSQL (6.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20121023050946')[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/chaitanya/workarea/ST-to-RGF/config/environment.rb:10)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.2ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.2ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.2ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TIME ZONE
  [1m[36mPK and serial sequence (47.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"listing_followers"'::regclass
[0m
  [1m[35mPK and custom sequence (5.7ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"listing_followers"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
DEPRECATION WARNING: RAILS_ROOT is deprecated. Please use ::Rails.root.to_s. (called from <class:Person> at /home/chaitanya/workarea/ST-to-RGF/app/models/person.rb:134)
  [1m[36mSQL (4.1ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'listings'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (33.6ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"listings"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (10.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"communities_listings"'::regclass
[0m
  [1m[35mPK and custom sequence (4.0ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"communities_listings"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mPK and serial sequence (6.0ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"listing_followers"'::regclass
[0m
  [1m[35mPK and custom sequence (4.0ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"listing_followers"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
Creating scope :open. Overwriting existing method Listing.open.
Creating scope :public. Overwriting existing method Listing.public.
Creating scope :private. Overwriting existing method Listing.private.
  [1m[36mSQL (11.3ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (10.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"notifications"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (6.2ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"communities_listings"'::regclass
[0m
  [1m[35mPK and custom sequence (2.9ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"communities_listings"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (2.0ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (1.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (1.0ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (37.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"communities"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (4.0ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'communities'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (2.8ms)[0m  [1mSELECT 1 FROM "communities" WHERE ("communities"."domain" = 'annarbor') LIMIT 1[0m
  [1m[35mSQL (2.1ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"communities"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (6.2ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"communities"'::regclass
[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "communities" ("name", "domain", "created_at", "updated_at", "settings", "consent", "email_admins_about_new_members", "use_fb_like", "real_name_required", "feedback_to_admin", "automatic_newsletters", "join_with_invite_only", "use_captcha", "email_confirmation", "allowed_emails", "users_can_invite_new_users", "select_whether_name_is_shown_to_everybody", "private", "label", "show_date_in_listings_list", "news_enabled", "all_users_can_add_news", "custom_frontpage_sidebar", "event_feed_enabled", "members_count", "slogan", "description", "category", "polls_enabled", "plan", "user_limit", "monthly_price_in_euros") VALUES ('Ann Arbor', 'annarbor', '2013-03-02 13:24:44.322041', '2013-03-02 13:24:44.322041', NULL, 'SHARETRIBE1.0', 'f', 'f', 't', 'f', 't', 'f', 'f', 't', NULL, 'f', 'f', 'f', NULL, 'f', 't', 't', 'f', 't', 1, 'Swap, Share', 'RealGoodFood is a place to swap recipes.', 'town', 'f', 'premium', NULL, NULL) RETURNING "id"
  [1m[36mSQL (7.0ms)[0m  [1mCOMMIT[0m
WARNING: Can't mass-assign protected attributes: id
  [1m[35mSQL (0.5ms)[0m  BEGIN
  [1m[36mSQL (1.1ms)[0m  [1mSELECT 1 FROM "communities" WHERE ("communities"."domain" = 'durham') LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "communities" ("name", "domain", "created_at", "updated_at", "settings", "consent", "email_admins_about_new_members", "use_fb_like", "real_name_required", "feedback_to_admin", "automatic_newsletters", "join_with_invite_only", "use_captcha", "email_confirmation", "allowed_emails", "users_can_invite_new_users", "select_whether_name_is_shown_to_everybody", "private", "label", "show_date_in_listings_list", "news_enabled", "all_users_can_add_news", "custom_frontpage_sidebar", "event_feed_enabled", "members_count", "slogan", "description", "category", "polls_enabled", "plan", "user_limit", "monthly_price_in_euros") VALUES ('Durham city', 'durham', '2013-03-02 13:24:44.361026', '2013-03-02 13:24:44.361026', NULL, 'SHARETRIBE1.0', 'f', 'f', 't', 'f', 't', 'f', 'f', 't', NULL, 'f', 'f', 'f', NULL, 'f', 't', 't', 'f', 't', 1, 'Swap, Share', 'RealGoodFood is a place to swap recipes.', 'town', 'f', 'premium', NULL, NULL) RETURNING "id"
  [1m[36mSQL (5.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (11.0ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"people"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
WARNING: Can't mass-assign protected attributes: id, locale, active_days_count, test_group_number, show_real_name_to_other_users, confirmed_at, confirmation_sent_at, hobby_status
  [1m[36mSQL (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'people'
 AND schemaname = ANY (current_schemas(false))
  [1m[36mSQL (2.1ms)[0m  [1mSELECT 1 FROM "people" WHERE ("people"."email" = 'devin@realgoodfood.org') LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  SELECT 1 FROM "people" WHERE ("people"."username" = 'devin') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mSELECT 1 FROM "people" WHERE ("people"."email" = 'devin@realgoodfood.org') LIMIT 1[0m
  [1m[35mSQL (2.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"people"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPerson Load (1.8ms)[0m  [1mSELECT "people".* FROM "people" WHERE "people"."confirmation_token" = 'fGivukmxe8ZQLemHDpPf' LIMIT 1[0m
  [1m[35mPK and serial sequence (6.3ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"people"'::regclass
  [1m[36mPK and custom sequence (3.6ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"people"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mPK and serial sequence (5.8ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"people"'::regclass
  [1m[36mPK and custom sequence (3.6ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"people"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mAREL (2.4ms)[0m  INSERT INTO "people" ("created_at", "updated_at", "is_admin", "locale", "preferences", "active_days_count", "last_page_load_date", "test_group_number", "active", "show_real_name_to_other_users", "given_name", "family_name", "phone_number", "description", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "username", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "password_salt", "confirmation_token", "confirmed_at", "confirmation_sent_at", "facebook_id", "authentication_token", "hobby_status", "id") VALUES ('2013-03-02 13:24:55.625395', '2013-03-02 13:24:55.625395', 1, 'en', NULL, 0, NULL, 1, 't', 't', 'Devin', 'Mcintire', NULL, NULL, NULL, NULL, NULL, NULL, 'devin', 'devin@realgoodfood.org', '$2a$10$hPUqOAT9PIuLCmHkK.jNr..g5sNVSj2mnMd8DtcopSF039lT7deUm', NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, NULL, 'fGivukmxe8ZQLemHDpPf', NULL, '2013-03-02 13:24:55.625064', NULL, NULL, 'Existing', 'cmc1nSGZWr4Oaa3a6HdQnY')
  [1m[36mPK and serial sequence (6.0ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"people"'::regclass
[0m
  [1m[35mPK and custom sequence (3.5ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"people"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
Rendered devise/mailer/confirmation_instructions.haml (3.8ms)

Sent mail to devin@realgoodfood.org (6227ms)
Date: Sat, 02 Mar 2013 18:55:10 +0530
From: no-reply@realgoodfood.org
Reply-To: no-reply@realgoodfood.org
To: devin@realgoodfood.org
Message-ID: <5131fdb69dd2e_e7a42dd81433858@chaitanya-laptop.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!-- /bHjC6UljSr4Oaa3a6HdQnY/people/confirmation?confirmation_token=rG1svxqCsB1wiJy5XQCC -->
<!-- /-if @confirmation_token -->
<!-- /  yes confirmation token -->
<!-- /  //- link = confirmation_url(:confirmation_token => @confirmation_token, :host => @host) -->
<!-- /- else -->
<!-- /  - if $host -->
<!-- /    have $host -->
<!-- /    //- link = confirmation_url(@resource, :confirmation_token => @resource.confirmation_token, :host => $host) -->
<!-- /  - else -->
<!-- /- link = confirmation_url(@resource, :confirmation_token => @resource.confirmation_token) -->
<p>
  Hi Devin,
</p>
<p>
  You need to confirm your email address by clicking the following link:
  <a href="http://foodswap.herokuapp.com/cmc1nSGZWr4Oaa3a6HdQnY/people/confirmation?confirmation_token=fGivukmxe8ZQLemHDpPf">Confirm my account</a>
</p>
<p>
  Thanks,
  <br>
  The RealGoodFood Team
</p>
[paperclip] Saving attachments.
  [1m[36mSQL (2439.6ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (4.5ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"community_memberships"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
WARNING: Can't mass-assign protected attributes: id, admin
  [1m[36mSQL (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"community_memberships"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mCommunityMembership Load (1.5ms)[0m  [1mSELECT "community_memberships".* FROM "community_memberships" WHERE "community_memberships"."person_id" = 'bCGGjElvur4Oaa3a6HdQnY' AND "community_memberships"."community_id" = 1 LIMIT 1[0m
  [1m[35mPK and serial sequence (5.9ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"community_memberships"'::regclass
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "community_memberships" ("person_id", "community_id", "admin", "created_at", "updated_at", "consent", "invitation_id", "last_page_load_date") VALUES ('bCGGjElvur4Oaa3a6HdQnY', 1, 'f', '2013-03-02 13:25:19.274900', '2013-03-02 13:25:19.274900', 'SHARETRIBE1.0', NULL, '2013-03-02 13:25:19.000000') RETURNING "id"[0m
  [1m[35mCommunity Load (1.5ms)[0m  SELECT "communities".* FROM "communities" WHERE "communities"."id" = 1 LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mUPDATE "communities" SET "members_count" = COALESCE("members_count", 0) + 1 WHERE "communities"."id" = 1[0m
  [1m[35mSQL (92.4ms)[0m  COMMIT
WARNING: Can't mass-assign protected attributes: id, admin
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mCommunityMembership Load (0.6ms)[0m  SELECT "community_memberships".* FROM "community_memberships" WHERE "community_memberships"."person_id" = 'bCGGjElvur4Oaa3a6HdQnY' AND "community_memberships"."community_id" = 2 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "community_memberships" ("person_id", "community_id", "admin", "created_at", "updated_at", "consent", "invitation_id", "last_page_load_date") VALUES ('bCGGjElvur4Oaa3a6HdQnY', 2, 'f', '2013-03-02 13:25:19.382839', '2013-03-02 13:25:19.382839', 'SHARETRIBE1.0', NULL, '2013-03-02 13:25:19.000000') RETURNING "id"[0m
  [1m[35mCommunity Load (0.7ms)[0m  SELECT "communities".* FROM "communities" WHERE "communities"."id" = 2 LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mUPDATE "communities" SET "members_count" = COALESCE("members_count", 0) + 1 WHERE "communities"."id" = 2[0m
  [1m[35mSQL (21.0ms)[0m  COMMIT
  [1m[36mSQL (10.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"locations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
WARNING: Can't mass-assign protected attributes: id
  [1m[35mSQL (0.5ms)[0m  BEGIN
  [1m[36mSQL (1.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"locations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (6.0ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"locations"'::regclass
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "locations" ("latitude", "longitude", "address", "google_address", "city", "created_at", "updated_at", "listing_id", "person_id", "location_type", "community_id") VALUES (42.2804, -83.744, 'Ann Arbor, MI 48104, USA', '199 S Division St, Ann Arbor, MI 48104, USA', 'Ann Arbor', '2013-03-02 13:25:19.435729', '2013-03-02 13:25:19.435729', NULL, NULL, 'community', 1) RETURNING "id"[0m
  [1m[35mSQL (6.0ms)[0m  COMMIT
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "locations" ("latitude", "longitude", "address", "google_address", "city", "created_at", "updated_at", "listing_id", "person_id", "location_type", "community_id") VALUES (35.9981, -78.892, 'Durham, NC 27701, USA', 'Durham, NC 27701, USA', 'Durham', '2013-03-02 13:25:19.454542', '2013-03-02 13:25:19.454542', NULL, NULL, 'community', 2) RETURNING "id"
  [1m[36mSQL (7.8ms)[0m  [1mCOMMIT[0m
